
@{
    ViewData["Title"] = "List";
}

<h1>List</h1>

@*<form action="/Administrator/List" method="get">
        <label for="filter">Filter Overdue Books</label>
        <input type="checkbox" id="filter" name="filter" value="overdue" @(ViewBag.Filter ? "checked" : "") />
        <input type="submit" value="Go!" />
    </form>*@

@if (ViewBag.Courses != null && ViewBag.Courses.Count > 0)
{
    <table class="table">
        <thead class="thead-dark">
            <tr>
                <th>Course ID</th>
                <th>Instructor</th>
                <th>Course Name</th>
                <th>Subject</th>
                <th>Course Description</th>
                <th>Grade Level</th>
                <th>Start Date</th>
                <th>End Data</th>
                <th>Capactity</th>
                <th>Action</th>
            </tr>
            @foreach (Course course in ViewBag.Courses)
            {
                <tr>
                    <td>@(course.ID)</td>
                    @*<td><a href="/Book/Details?id=@(book.ID)">@(book.Title)</a></td>*@
                    <td>@(course.User == null ? "TBA" : (course.User.FirstName + " " + course.User.LastName))</td>
                    <td>@(course.CourseName)</td>
                    <td>@(course.Subject)</td>
                    <td>@(course.CourseDescription)</td>
                    <td>@(course.GradeLevel)</td>
                    <td>@((course.StartDate == null ? "TBA" : ((DateTime)course.StartDate).ToLongDateString()))</td>
                    <td>@((course.EndDate == null ? "TBA" : ((DateTime)course.EndDate).ToLongDateString()))</td>
                    @if (course.CurrentCapacity == course.MaxCapacity)
                    {
                        <td>FULL</td>
                    }
                    else
                    {
                        <td>@(course.CurrentCapacity + "/" + course.MaxCapacity)</td>
                    }
                    <td><a href="/Administrator/Edit?id=@(course.ID)">Edit</a> | <a href="/Administrator/Delete?id=@(course.ID)">Delete</a></td>

                </tr>
            }
    </table>
}

else
{
    <p>There are no courses found</p>
}

